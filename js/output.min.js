/*! javascript-challenge 09-12-2014 */
!function(){"use strict";function a(){var a=confirm("Do you really want to leave this fantasticly relevant, valuable offer?");a&&(window.location="http://google.com")}function b(){for(var a=document.getElementsByName("state")[0],b=0;b<usStates.length;b++){var e=usStates[b],f=document.createElement("OPTION"),g=document.createTextNode(e.name);f.value=e.name,f.value=e.code,f.appendChild(g),a.appendChild(f)}var h=document.getElementById("occupation");h.addEventListener("change",function(){c(h)});var i=document.getElementById("signup");i.addEventListener("submit",d)}function c(a){var b=document.getElementsByName("occupationOther")[0];b.style.display="other"==a.value?"block":"none"}function d(a){var b=e(a);return!b&&a.preventDefault&&a.preventDefault(),a.returnValue=b,b}function e(){var a=!0,b=["firstName","lastName","address1","city","state"];"other"==document.getElementById("occupation").value&&b.push("occupationOther");for(var c=0;c<b.length;c++){var d=document.getElementById(b[c]);a&=g(d)}return console.log(document.getElementById("birthdate").value),a&=h(),a&=f()}function f(){var a=document.getElementById("birthdate"),b=document.getElementById("birthdateMessage"),c=new Date,d=!0;if(""!==a.value.trim()){var e=a.value.split("-");c.getFullYear()-e[0]<13?d=!1:c.getFullYear()-e[0]==13&&(c.getMonth()+1-e[1]<0?d=!1:c.getMonth()+1-e[1]===0&&c.getDate()-e[2]<0&&(d=!1))}else d=!1;return d?(a.className="form-control",b.innerHTML=""):(a.className="form-control invalid",b.innerHTML="You must be at least 13 years or older to sign up!"),d}function g(a){var b=a.value.trim();return a.className=""===b?"form-control invalid":"form-control",Boolean(b)}function h(){var a=document.getElementById("zip"),b=new RegExp("^\\d{5}$"),c=b.test(a.value);return a.className=c?"form-control":"form-control invalid",c}window.onload=function(){b(),document.getElementById("cancelButton").addEventListener("click",a)}}();var usStates=[{name:"Alabama",code:"AL"},{name:"Alaska",code:"AK"},{name:"American Samoa",code:"AS"},{name:"Arizona",code:"AZ"},{name:"Arkansas",code:"AR"},{name:"California",code:"CA"},{name:"Colorado",code:"CO"},{name:"Connecticut",code:"CT"},{name:"Delaware",code:"DE"},{name:"District Of Columbia",code:"DC"},{name:"Federated States Of Micronesia",code:"FM"},{name:"Florida",code:"FL"},{name:"Georgia",code:"GA"},{name:"Guam",code:"GU"},{name:"Hawaii",code:"HI"},{name:"Idaho",code:"ID"},{name:"Illinois",code:"IL"},{name:"Indiana",code:"IN"},{name:"Iowa",code:"IA"},{name:"Kansas",code:"KS"},{name:"Kentucky",code:"KY"},{name:"Louisiana",code:"LA"},{name:"Maine",code:"ME"},{name:"Marshall Islands",code:"MH"},{name:"Maryland",code:"MD"},{name:"Massachusetts",code:"MA"},{name:"Michigan",code:"MI"},{name:"Minnesota",code:"MN"},{name:"Mississippi",code:"MS"},{name:"Missouri",code:"MO"},{name:"Montana",code:"MT"},{name:"Nebraska",code:"NE"},{name:"Nevada",code:"NV"},{name:"New Hampshire",code:"NH"},{name:"New Jersey",code:"NJ"},{name:"New Mexico",code:"NM"},{name:"New York",code:"NY"},{name:"North Carolina",code:"NC"},{name:"North Dakota",code:"ND"},{name:"Northern Mariana Islands",code:"MP"},{name:"Ohio",code:"OH"},{name:"Oklahoma",code:"OK"},{name:"Oregon",code:"OR"},{name:"Palau",code:"PW"},{name:"Pennsylvania",code:"PA"},{name:"Puerto Rico",code:"PR"},{name:"Rhode Island",code:"RI"},{name:"South Carolina",code:"SC"},{name:"South Dakota",code:"SD"},{name:"Tennessee",code:"TN"},{name:"Texas",code:"TX"},{name:"Utah",code:"UT"},{name:"Vermont",code:"VT"},{name:"Virgin Islands",code:"VI"},{name:"Virginia",code:"VA"},{name:"Washington",code:"WA"},{name:"West Virginia",code:"WV"},{name:"Wisconsin",code:"WI"},{name:"Wyoming",code:"WY"}];